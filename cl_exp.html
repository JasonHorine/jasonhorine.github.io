<!doctype html>
<html lang="en">
  <head>
    <!-- Google Analytics script -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-77947641-1', 'auto');
      ga('send', 'pageview');
    </script>
    <!-- reset -->
    <link  href="css/reset.css" rel="stylesheet">

    <meta charset="utf-8">

    <title>Jason Horine</title>
    <meta name="description" content="The HTML5 Herald">
    <meta name="author" content="SitePoint">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <!-- <link rel="stylesheet" href="css/styles.css?v=1.0"> -->
    <link rel="stylesheet" href="css/styles.css">
    <link href='https://fonts.googleapis.com/css?family=Oxygen' rel='stylesheet' type='text/css'>
    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body>
    <header id="header" class="center_text header_exp">
      <div>
      <a class="button_link" href="jhc_exp.html">
        &lt&lt Prev Project
      </a>
      <a class="button_link" href="index.html">
        Home
      </a>
      <a class="button_link" href="ttt_exp.html">
        Next Project &gt&gt
      </a>
    </header>
    <div class="blocks_frame_mid">
      <a href="http://cloudlogr.jasonhorine.com" target="_blank">
        <h2 class="center_text a_link"> CloudLogr </h2>
      </a>
      <p>The CloudLogr site is the beginnings of a web-sever based data-logging product for the Industrial Automation market.  The site started as my MVP deliverable for an assignment to create and deploy my own application in about a week of coding.  This assignment comprised the final week in the General Assembly Web Development Immersive course.</p>
      <ul><h3>About CloudLogr</h3>
        <li>Node.js is the runtime engine.</li>
        <li>mLab hosts the MongoDB database.</li>
        <li>CloudLogr is currently deployed on Heroku.</li>
      </ul>
      <ul><h3>Main Features of CloudLogr</h3>
        <li>The primary requirement for this concept to be useful was to have the Node.js server poll the hardware (a storage tank in my example) at a regular interval to retrieve data to store in my database, even while no browser is connected.  An API route from the browser kicks that process off and its new status ("pollingState": true) is recorded in the database.  That process will continue until another route is hit that updates the status in the database.  If "pollingState": false is written to the database, the next time the poll process 'wakes' to take a reading, it will instead shut itself down.</li>
        <li>The browser has similar polling behavior.  When the browser renders tank.html, javascript checks to see whether the server reported that it is polling.  If the server is polling, the browser will automatically begin polling the server via AJAX at the same rate.  Just the data needed is sent back to the AJAX request and just the table is redrawn.</li>
      <ul><h3>Reading from the eWON API</h3>
        <li>A method on the model is used to read from the eWON.  First, my credentials (stored as environment variables) are sent to eWON's talk2m.com service and request a session ID.</li>
        <li>From the JSON response, the session ID is picked out and then used to initiate a second request to retrieve data on a tank application available to me.</li>
        <li>From the CSV response, the tank value is picked out and combined with a timestamp from the server and saved to the mLab database.</li>
        <li>Simultaneously, the server logs back out of the eWON API.</li>
      <ul><h3>Plans for CloudLogr</h3>
        <li>UX!  I love UX and I know it's bad on this site.  As I'm adding infrastructure, I keep UX and ideal workflow in mind.  Perhaps that's evident...</li>
        <li>STYLING!  Sadly, the pages have received almost NO styling attention.  The landing page is simply a description of what I believe my target customer would want from a product of this nature.</li>
        <li>Integrate Socket.io in the UI to allow the page to react to new data having arrived in the database, instead of the browser polling asynchronously.  I could not figure out how to get the server's polling of the eWON API registered as a client to Socket.io.  I could not find that info in documentation, or on forums.  If you are reading this and know how to do that, please shoot me an <a href="mailto:JasonHorine@iCloud.com?subject=Socket.io" "email me"><span class="a_link">email</span></a>!</li>
        <li>Add methods to allow controlling the tank process inputs form the UI.  Would need to allow writing to two Boolean registers that represent a fill valve and drain valve, and getting the values out to eWON.</li>
        <li>Use Chart.js instead of a table to represent polled data.</li>
        <li>Allow the user to alter how much data is displayted on screen</li>
        <li>Add more realistic error-handling.  It's currently blue-sky only.</li>
        <li>There are hundreds of items on this list in my mind...</li>
      </ul>
    </div>
    <footer class="center_text footer_exp">
      <img class="img_30h img_button" src="./images/graph60px.png" alt="graph"><a class="button_link" href="http://cloudlogr.jasonhorine.com" target="_blank">CloudLogr</a>
      <img class="img_30h img_button" src="./images/GitHub-Mark-Light-64px.png" alt="git hub icon"><a class="button_link" href="https://github.com/JasonHorine/cloudlogr" target="_blank">See the Code</a>
    </footer>
  </body>
</html>
